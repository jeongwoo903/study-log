# [7장] useMemo로 상태 관리하기

## useMemo의 필요성
만약 시간과 자원을 소비해 반환값을 계산하는 expensiveFn 이라는 함수가 있다면, 이 함수를 절대적으로 필요할때만 호출하고 싶을 것이다.

비싼 리소스를 들여야 하는 함수의 경우 자주 반복된다면 이는 성능을 저하시킬 것이다.  
그래서 동일한 input이 들어온 경우에는 이전의 결과를 저장해두었다가 반환하는 것이 좋은 전략이 될 것이다.  
이런 방식을 **Memoization(메모화)** 이라고 한다.

> **Memoization**  
> 주어진 인자 집합에 대한 결과를 저장하는 과정

## useMemo
useMemo는 비용이 많이 드는 계산을 불필요하게 다시 실행하는 일을 막기 위해 사용한다.

useMemo는 생성 함수와 의존성 배열을 인자로 받는다.

```jsx
const value = useMemo(
  () => expensiveFn(dep1, dep2), 
  [dep1, dep2]
);
```

## useMemo에 추가 사항
- 호출과 호출 사이에 의존성 배열의 값이 변경되지 않은 경우 useMemo가 비용이 많이 드는 함수에 대해 저장된 경과를 반환할 수 있다.
- useMemo가 항상 메모화된 값을 사용하리라 기대하지는 마라. 리액트가 메모리를 확보하기 위해 저장된 결과를 폐기할수도 있다.