# [CSS] CSS 명시도(Specificity)

## 서론
최근에 웹 빌더를 통해 애니메이션을 다루면서 JS적인 지식보다 오히려 가장 기본적인 html, css를 극한으로 써야하는 상황이 있었다.  
이 일을 겪으면서 내가 CSS 명시도에 대해서 어렴풋이 알고 있는게 느껴져서 정리를 해보려고 한다.  
기초의 중요성을 다시 한 번 느끼게 된 순간이였다.

## CSS 명시도 소개
![specifishity](https://github.com/user-attachments/assets/1860fea0-4f90-40f2-bb77-ad4b967ec9f7)

위의 이미지는 명시도의 전반에 대해서 아주 잘 보여주고 있다.

CSS 명시도(Specificity)는 스타일 규칙이 적용되는 우선순위를 결정하는 데 중요한 개념이다.
명시도는 우선순위라는 말과 일치하다고 생각하면 안된다. 필자가 그랬다.  
명시도는 오히려 해당 객체를 얼마나 명확하게(구체적으로) 가리키고 있는가에 대한 내용이다.

## CSS 명시도 규칙
명시도는 `0-0-0-0`과 같은 방식으로 통해 정도를 시각화 하기도 한다.  
이것이 의미하는 바는 설명과 같다.

- 요소(element)를 나타내는 자리는 네번째 자리이며 `0-0-0-1`로 나타낸다.
- 클래스(class), 가상 클래스(Pseudo-class), 속성(attribute)을 나타내는 자리는 세번째 자리이며 `0-0-1-0`로 나타낸다.
- ID를 나타내는 것은 두번째 자리이며 `0-1-0-0`로 나타낸다.
- 인라인 요소(style="")일 때는 첫번째 자리이며 `1-0-0-0`로 나타낸다.

## CSS 명시도 레벨의 이해
명시도가 `-`로 구분되어 있는 이유는 각 레벨이 독립적이기 때문이다.

예를 들어 다음과 같은 html 구조가 있다고 해보자
```html
<ul>
    <li>
        <div>
            <a class="go-home"></a>
        </div>
    </li>
</ul>
```
이 경우에 대해서 명시도를 나타내면,
- `.go-home`으로 선택할 경우 명시도는 `0-0-1-0`이다.
- `ul li div a`로 선택할 경우 명시도는 `0-0-0-4`이다.

4번째 자리만 비교를 한다면 `0`과 `4`이므로 후자의 경우가 높지만, 각 자리의 위계는 절대적이여서 4번째 자리가 아무리 높더라도 3번째 자리가 전자의 경우가 높기 때문에 **전자의 경우가 명시도가 높다.**

하지만 만약 CSS 명시도 레벨이 겹치는 경우에는 나중에 쓴 규칙이 앞에 쓴 규칙을 덮어버리는 override가 발생한다.

```css
/* case 1 */
ul li {
    color: #ff0000;
}

/* case 2 */
html li {
    color: #0000ff;
}
```

이 경우 문서 상으로 `case 1`가 element에 더 가깝게 선언되어서 명시도가 높다고 판단 할 수도 있는데, ‘구조, 위치상 가깝다’는 명시도와 아무런 상관이 없다.  
결국 명시도는 두 경우 다 `0-0-0-2`이기 때문에 나중에 쓴 `case 2`가 적용되게 되고 폰트 컬러는 블루가 적용되게 된다.

## `!important` 룰 브레이커
앞서 설명한 모든 규칙을 무시하는 속성이 있는데 바로 `!important`이다.
`!important`의 경우 명시도 규칙으로 나타내자면 `1-0-0-0-0`으로 나타낼 수 있는데, 여태껏 설명한 모든 경우보다 레벨이 높다.

그정도로 강력한 속성이기 때문에 매우 조심스럽게 사용해야 하는데, 나의 경우 예전에 js로 css를 다루다가 적용이 안될때 그냥 `!important`를 사용한 적이 있어서 공부하면서 매우 반성스러웠다.  
그렇기 때문에 `!important`는 남발하게 될 경우 차후 의미가 무색해져 버릴 수 있으니 정말 중요한 순간에만 사용해야 한다.

## 정리
> !importnat > Inline Style > id > class > tag  

위와 같은 순서대로 명시도가 정의 된다.
왼쪽의 경우가 가장 높고 오른쪽의 경우가 가장 낮다.




